---
source: tests/snapshots.rs
expression: snapshot
input_file: ".modules/fc-blackbox/src/test-data/LOG00007.BFL"
---
File(
  count: 1,
  logs: [
    Ok(Log(
      headers: Headers(
        firmware_revision: "Betaflight 4.2.6 (a4b6db1e7) STM32F405",
        firmware: Betaflight("4.2.6"),
        firmware_date: Some(Ok("2021-01-05 19:07:23.0")),
        board_info: Some("AIRB OMNIBUSF4"),
        craft_name: None,
        debug_mode: GyroFiltered,
        disabled_fields: [],
        features: [
          RxSerial,
          AirMode,
          AntiGravity,
        ],
        pwm_protocol: Dshot600,
        unknown: {
          "I interval": "256",
          "Log start datetime": "0000-01-01T00:00:00.000+00:00",
          "P interval": "8",
          "P ratio": "32",
          "abs_control_gain": "0",
          "acc_hardware": "0",
          "acc_limit": "0",
          "acc_limit_yaw": "0",
          "acc_lpf_hz": "1000",
          "airmode_activate_throttle": "25",
          "anti_gravity_gain": "3500",
          "anti_gravity_mode": "0",
          "anti_gravity_threshold": "250",
          "baro_hardware": "1",
          "d_min": "23,25,0",
          "d_min_advance": "20",
          "d_min_gain": "37",
          "deadband": "0",
          "dshot_bidir": "0",
          "dshot_idle_value": "550",
          "dterm_filter2_type": "0",
          "dterm_filter_type": "0",
          "dterm_lowpass2_hz": "150",
          "dterm_lowpass_dyn_hz": "70,170",
          "dterm_lowpass_hz": "150",
          "dterm_notch_cutoff": "0",
          "dterm_notch_hz": "0",
          "dterm_rpm_notch_harmonics": "0",
          "dterm_rpm_notch_min": "100",
          "dterm_rpm_notch_q": "500",
          "dyn_notch_max_hz": "400",
          "dyn_notch_min_hz": "80",
          "dyn_notch_q": "250",
          "dyn_notch_width_percent": "0",
          "feedforward_transition": "0",
          "feedforward_weight": "90,95,90",
          "ff_boost": "15",
          "ff_interpolate_sp": "2",
          "ff_max_rate_limit": "100",
          "ff_spike_limit": "60",
          "gyro_cal_on_first_arm": "0",
          "gyro_hardware_lpf": "0",
          "gyro_lowpass2_hz": "250",
          "gyro_lowpass2_type": "0",
          "gyro_lowpass_dyn_hz": "200,500",
          "gyro_lowpass_hz": "200",
          "gyro_lowpass_type": "0",
          "gyro_notch_cutoff": "0,0",
          "gyro_notch_hz": "0,0",
          "gyro_rpm_notch_harmonics": "2",
          "gyro_rpm_notch_min": "80",
          "gyro_rpm_notch_q": "500",
          "gyro_sync_denom": "1",
          "iterm_relax": "1",
          "iterm_relax_cutoff": "15",
          "iterm_relax_type": "1",
          "iterm_windup": "100",
          "levelPID": "50,50,75",
          "looptime": "125",
          "magPID": "40",
          "mag_hardware": "1",
          "maxthrottle": "2000",
          "motor_pwm_rate": "480",
          "pidAtMinThrottle": "1",
          "pid_process_denom": "1",
          "pidsum_limit": "500",
          "pidsum_limit_yaw": "400",
          "pitchPID": "46,90,38",
          "rate_limits": "1998,1998,1998",
          "rates": "70,70,70",
          "rates_type": "0",
          "rc_expo": "0,0,0",
          "rc_interpolation": "2",
          "rc_interpolation_channels": "2",
          "rc_interpolation_interval": "19",
          "rc_rates": "100,100,100",
          "rc_smoothing_active_cutoffs": "0, 90",
          "rc_smoothing_auto_factor": "10",
          "rc_smoothing_cutoffs": "0, 0",
          "rc_smoothing_debug_axis": "0",
          "rc_smoothing_filter_type": "1, 1",
          "rc_smoothing_rx_average": "0",
          "rc_smoothing_type": "1",
          "rollPID": "42,85,35",
          "rpm_notch_lpf": "150",
          "serialrx_provider": "2",
          "thr_expo": "0",
          "thr_mid": "50",
          "tpa_breakpoint": "1350",
          "tpa_rate": "65",
          "use_integrated_yaw": "0",
          "use_unsynced_pwm": "0",
          "vbat_pid_gain": "0",
          "vbatcellvoltage": "330,350,430",
          "yawPID": "45,90,0",
          "yaw_deadband": "0",
          "yaw_lowpass_hz": "0",
        },
      ),
      stats: Stats(
        counts: FrameCounts(
          event: 0,
          main: 199975,
          slow: 25,
          gps: 0,
          gps_home: 0,
        ),
      ),
      capped: true,
      main: MainFrame(
        count: 199975,
        last_iteration: 1599750,
        time: FieldSnapshot(
          min: 0,
          max: 206906693,
          unique: 199975,
          histogram: (12280, 12425, 12706, 12446, 12568, 12593, 12598, 12378, 12307, 12491, 12617, 12486, 12560, 12502, 12614, 12404),
        ),
        fields: Fields([
          Field(
            name: "axisP[0]",
            unit: Unitless,
            history: FieldSnapshot(
              min: -115,
              max: 79,
              unique: 188,
              histogram: (53140, 28307, 21245, 15285, 12196, 10394, 8941, 7549, 6739, 6109, 5778, 5773, 5583, 4930, 4195, 3811),
            ),
          ),
          Field(
            name: "axisP[1]",
            unit: Unitless,
            history: FieldSnapshot(
              min: -100,
              max: 89,
              unique: 189,
              histogram: (52354, 26955, 21530, 17340, 14591, 12177, 10292, 8338, 7066, 5783, 5122, 4622, 4050, 3650, 3249, 2856),
            ),
          ),
          Field(
            name: "axisP[2]",
            unit: Unitless,
            history: FieldSnapshot(
              min: -128,
              max: 296,
              unique: 411,
              histogram: (57647, 26123, 18280, 14080, 11127, 9034, 7976, 6826, 6125, 6831, 6679, 6746, 6822, 5671, 4951, 5057),
            ),
          ),
          Field(
            name: "axisI[0]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "axisI[1]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "axisI[2]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "axisD[0]",
            unit: Unitless,
            history: FieldSnapshot(
              min: -91,
              max: 84,
              unique: 141,
              histogram: (79417, 44040, 26679, 15304, 9354, 6187, 4523, 3321, 2532, 1999, 1671, 1271, 1163, 951, 808, 755),
            ),
          ),
          Field(
            name: "axisD[1]",
            unit: Unitless,
            history: FieldSnapshot(
              min: -70,
              max: 62,
              unique: 112,
              histogram: (77048, 43202, 27040, 16306, 10163, 6786, 4662, 3466, 2784, 2137, 1789, 1348, 1084, 826, 734, 600),
            ),
          ),
          Field(
            name: "axisF[0]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "axisF[1]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "axisF[2]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "rcCommand[0]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "rcCommand[1]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "rcCommand[2]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "rcCommand[3]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 1000,
              unique: 1,
            ),
          ),
          Field(
            name: "setpoint[0]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "setpoint[1]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "setpoint[2]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "setpoint[3]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "vbatLatest",
            unit: Voltage,
            history: FieldSnapshot(
              min: 0,
              max: 70,
              unique: 8,
              histogram: (35396, 0, 569, 0, 47362, 0, 19, 0, 4613, 0, 103290, 0, 19, 0, 8707, 0),
            ),
          ),
          Field(
            name: "gyroADC[0]",
            unit: Rotation,
            history: FieldSnapshot(
              min: -58,
              max: 85,
              unique: 143,
              histogram: (44934, 38995, 25118, 16067, 11929, 9670, 8183, 7344, 6699, 6209, 5413, 4662, 4148, 3753, 3631, 3220),
            ),
          ),
          Field(
            name: "gyroADC[1]",
            unit: Rotation,
            history: FieldSnapshot(
              min: -60,
              max: 66,
              unique: 127,
              histogram: (46234, 39797, 27845, 19775, 14767, 10814, 7884, 6466, 5436, 4417, 3652, 3118, 2662, 2439, 2393, 2276),
            ),
          ),
          Field(
            name: "gyroADC[2]",
            unit: Rotation,
            history: FieldSnapshot(
              min: -205,
              max: 89,
              unique: 292,
              histogram: (52582, 37214, 21007, 13902, 10444, 8923, 7687, 7116, 6519, 6239, 5704, 5002, 4577, 4558, 4220, 4281),
            ),
          ),
          Field(
            name: "accSmooth[0]",
            unit: Acceleration,
            history: FieldSnapshot(
              min: -321,
              max: 1124,
              unique: 1415,
              histogram: (10946, 11264, 13235, 18404, 17744, 13925, 11434, 11223, 11900, 11277, 11319, 11228, 11582, 11682, 11642, 11170),
            ),
          ),
          Field(
            name: "accSmooth[1]",
            unit: Acceleration,
            history: FieldSnapshot(
              min: -641,
              max: 643,
              unique: 1276,
              histogram: (11932, 12744, 16718, 22980, 17120, 11966, 11302, 12066, 10961, 10879, 10054, 11183, 10156, 10411, 9900, 9603),
            ),
          ),
          Field(
            name: "accSmooth[2]",
            unit: Acceleration,
            history: FieldSnapshot(
              min: 0,
              max: 1978,
              unique: 1436,
              histogram: (12212, 12567, 11864, 11447, 11039, 11211, 11229, 11962, 13250, 14509, 13864, 13257, 12973, 12855, 12574, 13162),
            ),
          ),
          Field(
            name: "debug[0]",
            unit: Unitless,
            history: FieldSnapshot(
              min: -58,
              max: 85,
              unique: 143,
              histogram: (44934, 38995, 25118, 16067, 11929, 9670, 8183, 7344, 6699, 6209, 5413, 4662, 4148, 3753, 3631, 3220),
            ),
          ),
          Field(
            name: "debug[1]",
            unit: Unitless,
            history: FieldSnapshot(
              min: -60,
              max: 66,
              unique: 127,
              histogram: (46234, 39797, 27845, 19775, 14767, 10814, 7884, 6466, 5436, 4417, 3652, 3118, 2662, 2439, 2393, 2276),
            ),
          ),
          Field(
            name: "debug[2]",
            unit: Unitless,
            history: FieldSnapshot(
              min: -205,
              max: 89,
              unique: 292,
              histogram: (52582, 37214, 21007, 13902, 10444, 8923, 7687, 7116, 6519, 6239, 5704, 5002, 4577, 4558, 4220, 4281),
            ),
          ),
          Field(
            name: "debug[3]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 0,
              unique: 1,
            ),
          ),
          Field(
            name: "motor[0]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 158,
              unique: 1,
            ),
          ),
          Field(
            name: "motor[1]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 158,
              unique: 1,
            ),
          ),
          Field(
            name: "motor[2]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 158,
              unique: 1,
            ),
          ),
          Field(
            name: "motor[3]",
            unit: Unitless,
            history: FieldSnapshot(
              min: 0,
              max: 158,
              unique: 1,
            ),
          ),
        ]),
      ),
      slow: SlowFrame(
        count: 25,
        fields: Fields([
          Field(
            name: "flightModeFlags",
            unit: FlightMode,
            history: {},
          ),
          Field(
            name: "stateFlags",
            unit: State,
            history: {},
          ),
          Field(
            name: "failsafePhase",
            unit: FailsafePhase,
            history: {
              "IDLE": 25,
            },
          ),
          Field(
            name: "rxSignalReceived",
            unit: Boolean,
            history: History(
              yes: 0,
              no: 25,
            ),
          ),
          Field(
            name: "rxFlightChannelsValid",
            unit: Boolean,
            history: History(
              yes: 0,
              no: 25,
            ),
          ),
        ]),
      ),
    )),
  ],
)
